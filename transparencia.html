<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Transparência • Plataforma ONG</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <!-- ===== NAVBAR ===== -->
  <header class="navbar">
    <div class="navbar__inner container">
      <a class="navbar__brand" href="index.html">Esperança Viva</a>

      <button class="navbar__toggle button button--sm" aria-label="Abrir menu" aria-expanded="false">
        ☰ Menu
      </button>

      <nav class="navbar__menu" aria-label="Menu principal">
        <a class="navbar__link" href="index.html">Início</a>

        <div class="dropdown">
          <a class="navbar__link" href="projetos.html" aria-haspopup="true" aria-expanded="false">Projetos ▾</a>
          <div class="dropdown__menu" role="menu">
            <a class="dropdown__item" href="projetos.html#ativos" role="menuitem">Ativos</a>
            <a class="dropdown__item" href="projetos.html#encerrados" role="menuitem">Encerrados</a>
          </div>
        </div>

        <a class="navbar__link" href="voluntarios.html">Voluntários</a>
        <a class="navbar__link" href="doacoes.html">Doações</a>
        <a class="navbar__link is-active" href="transparencia.html">Transparência</a>
        <a class="navbar__link" href="sobre.html">Sobre</a>
        <a class="navbar__link" href="contato.html">Contato</a>
        <a class="navbar__link" href="blog.html">Blog</a>
      </nav>
    </div>
  </header>
  <!-- ===== /NAVBAR ===== -->

  <!-- ===== HERO ===== -->
  <section class="hero">
    <h1>Transparência</h1>
    <p>Abaixo apresentamos a distribuição de recursos, indicadores de impacto e evolução mensal.</p>
  </section>

  <!-- ===== KPIs ===== -->
  <section class="section container">
    <div class="grid">
      <div class="card">
        <h3>Arrecadação (mês)</h3>
        <p class="kpi">R$ 38.450,00</p>
        <p class="muted">+12% vs. mês anterior</p>
      </div>
      <div class="card">
        <h3>Pessoas alcançadas</h3>
        <p class="kpi">1.286</p>
        <p class="muted">em programas ativos</p>
      </div>
      <div class="card">
        <h3>Custo adm.</h3>
        <p class="kpi">6,8%</p>
        <p class="muted">meta &lt; 10%</p>
      </div>
      <div class="card">
        <h3>Voluntários ativos</h3>
        <p class="kpi">214</p>
        <p class="muted">últimos 90 dias</p>
      </div>
    </div>
  </section>

  <!-- ===== GRÁFICOS ===== -->
  <section class="section container">
    <div class="grid">
      <div class="card">
        <h3>Distribuição de despesas</h3>
        <canvas id="pie-despesas" width="460" height="300" role="img" aria-label="Gráfico de pizza de despesas"></canvas>
        <ul class="muted" style="margin-top: var(--space-2)">
          <li>Programas sociais: 72%</li>
          <li>Captação e comunicação: 12%</li>
          <li>Administrativo: 9%</li>
          <li>Reserva técnica: 7%</li>
        </ul>
      </div>

      <div class="card">
        <h3>Arrecadação por mês</h3>
        <canvas id="bar-arrecadacao" width="460" height="300" role="img" aria-label="Gráfico de barras da arrecadação mensal"></canvas>
        <p class="muted">jan–jun (valores fictícios para demonstração)</p>
      </div>
    </div>
  </section>

  <!-- ===== TABELA ===== -->
  <section class="section container">
    <div class="card">
      <h3>Prestação de contas (resumo)</h3>
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th>Mês</th>
              <th>Entradas (R$)</th>
              <th>Saídas (R$)</th>
              <th>Saldo (R$)</th>
              <th>Obs.</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Jan</td><td>31.200,00</td><td>28.450,00</td><td>2.750,00</td><td>Campanha de verão</td></tr>
            <tr><td>Fev</td><td>33.800,00</td><td>29.120,00</td><td>4.680,00</td><td>+ doações recorrentes</td></tr>
            <tr><td>Mar</td><td>29.500,00</td><td>27.900,00</td><td>1.600,00</td><td>—</td></tr>
            <tr><td>Abr</td><td>35.700,00</td><td>31.250,00</td><td>4.450,00</td><td>evento beneficente</td></tr>
            <tr><td>Mai</td><td>36.900,00</td><td>33.000,00</td><td>3.900,00</td><td>—</td></tr>
            <tr><td>Jun</td><td>38.450,00</td><td>34.100,00</td><td>4.350,00</td><td>—</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <footer>
    © 2025 ONG Exemplo — Todos os direitos reservados
  </footer>

  <script src="js/main.js"></script>
  <script>
    // === Gráfico de pizza (canvas puro)
    (function(){
      const ctx = document.getElementById('pie-despesas')?.getContext('2d');
      if (!ctx) return;
      const data = [72, 12, 9, 7]; // %
      const labels = ['Programas', 'Captação', 'Adm.', 'Reserva'];
      const total = data.reduce((a,b)=>a+b,0);
      const colors = ['#4CAF50','#2196F3','#9C27B0','#FF9800'];
      let start = -Math.PI/2;

      data.forEach((val, i) => {
        const angle = (val/total) * Math.PI * 2;
        ctx.beginPath();
        ctx.moveTo(150,150);
        ctx.arc(150,150,120, start, start + angle);
        ctx.closePath();
        ctx.fillStyle = colors[i % colors.length];
        ctx.fill();
        start += angle;
      });

      // legenda simples
      ctx.font = '12px system-ui, -apple-system, sans-serif';
      ctx.textBaseline = 'middle';
      labels.forEach((lb, i) => {
        ctx.fillStyle = colors[i % colors.length];
        ctx.fillRect(320, 40 + i*24, 12, 12);
        ctx.fillStyle = '#333';
        ctx.fillText(lb, 340, 46 + i*24);
      });
    })();

    // === Gráfico de barras (canvas puro)
    (function(){
      const c = document.getElementById('bar-arrecadacao');
      if (!c) return;
      const ctx = c.getContext('2d');
      const meses = ['Jan','Fev','Mar','Abr','Mai','Jun'];
      const valores = [31200,33800,29500,35700,36900,38450];

      const w = c.width, h = c.height, pad = 40;
      const max = Math.max(...valores) * 1.15;
      const bw = (w - pad*2) / valores.length * 0.7;
      const gap = (w - pad*2) / valores.length * 0.3;

      // eixo
      ctx.strokeStyle = '#999';
      ctx.beginPath();
      ctx.moveTo(pad, h - pad);
      ctx.lineTo(w - pad, h - pad);
      ctx.moveTo(pad, h - pad);
      ctx.lineTo(pad, pad);
      ctx.stroke();

      // barras
      valores.forEach((v, i) => {
        const x = pad + i * (bw + gap) + gap/2;
        const bh = (v / max) * (h - pad*2);
        ctx.fillStyle = '#2196F3';
        ctx.fillRect(x, h - pad - bh, bw, bh);

        ctx.fillStyle = '#333';
        ctx.font = '12px system-ui, -apple-system, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(meses[i], x + bw/2, h - pad + 16);

        ctx.textAlign = 'right';
        ctx.fillText('R$ ' + v.toLocaleString('pt-BR'), x + bw, h - pad - bh - 6);
      });
    })();
  </script>
</body>
</html>